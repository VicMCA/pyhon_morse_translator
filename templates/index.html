<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Morse para ASCII</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  </head>
  <body>
    
    <div class="content">

      <h1 class="title">Conversor de Código-Morse</h1>

      <form class="formulario" action="/" method="POST">
        <h3>Insira abaixo o código morse</h3>
        <p>São aceitos apenas os caracteres "." (ponto final), "-" (sinal de menos) e "/" (barra).</p>
        <input type="text" oninput="removerCaracteres()" 
          required id="codigo" name="codigo" 
          placeholder="--/---/.-./..././/-.-./---/-../."><br/>
        <button class="form_buttons" type="submit">Traduzir</button>
        <button class="form_buttons" type="reset">Limpar</button>
      </form>
      
      <div class="informacoes-morse">
        <table class="tabela-morse">

        </table>
      </div>
    </div>
    
    <script>
      function removerCaracteres() {
        let campoCodigo = document.getElementById("codigo");
        let codigo = campoCodigo.value;
        let char = codigo[(codigo.length-1)];

        if (char != '.' && char != '-' && char != '/' && char != (undefined || null)) {
          // alert(char + " é inválido");
          codigoCorrigido = codigo.slice(0, codigo.length -1);
          campoCodigo.value = codigoCorrigido;
        }
      }
    </script>

  </body>
</html>